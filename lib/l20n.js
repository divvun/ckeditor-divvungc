'use strict';var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;return get(parent,property,receiver)}if('value'in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!(i&&_arr.length===i));_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i['return']&&_i['return']()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return call&&('object'==typeof call||'function'==typeof call)?call:self}function _inherits(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(function(){var t=function t(ge,ce){return-1!==ce.indexOf(ge)},r=function r(ge,ce,me){return('undefined'==typeof ge?'undefined':_typeof(ge))==('undefined'==typeof ce?'undefined':_typeof(ce))&&ce<=ge&&ge<=me},a=function a(ge){var ce=M[ge.replace(/-.*$/,'')];return ce in q?q[ce]:function(){return'other'}},s=function s(ge,ce){return Object.assign({},ge,o(ce))},o=function o(ge){return Object.keys(ge).reduce(function(ce,me){return Object.assign({},ce,_defineProperty({},me,ge[me].valueOf()))},{})},d=function d(ge,ce){var me=new Z,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=ce[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var he=_step.value;me.push(m(ge,he))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return me},l=function l(ge,ce,me){if(ce[me])return ce[me];var he=ge.errors;return he.push(new RangeError('No default')),new H},u=function u(ge,_ref){var ce=_ref.name,me=ge.ctx,he=ge.errors,_e=me.messages.get(ce);return _e?_e:(he.push(new ReferenceError('Unknown entity: '+ce)),new H(ce))},g=function g(ge,_ref2){var ce=_ref2.obj,me=_ref2.key,he=u(ge,ce);if(he instanceof H)return he;var _e=ge.ctx,xe=ge.errors,fe=m(ge,me);if(he.traits){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=he.traits[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var pe=_step2.value,be=m(ge,pe.key);if(fe.match(_e,be))return pe}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return xe.push(new ReferenceError('Unknown trait: '+fe.toString(_e))),m(ge,he)},c=function c(ge,_ref3){var ce=_ref3.exp,me=_ref3.vars,he=_ref3.def,_e=m(ge,ce);if(_e instanceof H)return l(ge,me,he);var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=me[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var xe=_step3.value,fe=m(ge,xe.key);if(fe instanceof V&&_e instanceof V&&fe.valueOf()===_e.valueOf())return xe;var pe=ge.ctx;if(fe instanceof B&&fe.match(pe,_e))return xe}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return l(ge,me,he)},m=function m(ge,ce){if('string'==typeof ce||ce instanceof H)return ce;if(Array.isArray(ce))return f(ge,ce);switch(ce.type){case'kw':return new B(ce);case'num':return new V(ce.val);case'ext':return h(ge,ce);case'fun':return _(ge,ce);case'call':return x(ge,ce);case'ref':{var me=u(ge,ce);return m(ge,me)}case'mem':{var _me=g(ge,ce);return m(ge,_me)}case'sel':{var _me2=c(ge,ce);return m(ge,_me2)}case void 0:{if(void 0!==ce.val)return m(ge,ce.val);var _me3=l(ge,ce.traits,ce.def);return m(ge,_me3)}default:return new H;}},h=function h(ge,_ref4){var ce=_ref4.name,me=ge.args,he=ge.errors;if(!me||!me.hasOwnProperty(ce))return he.push(new ReferenceError('Unknown external: '+ce)),new H(ce);var _e=me[ce];if(_e instanceof U)return _e;switch('undefined'==typeof _e?'undefined':_typeof(_e)){case'string':return _e;case'number':return new V(_e);case'object':if(Array.isArray(_e))return d(ge,_e);if(_e instanceof Date)return new G(_e);default:return he.push(new TypeError('Unsupported external type: '+ce+', '+('undefined'==typeof _e?'undefined':_typeof(_e)))),new H(ce);}},_=function _(ge,_ref5){var ce=_ref5.name,he=ge.ctx.functions,me=ge.errors,_e=he[ce]||X[ce];return _e?'function'==typeof _e?_e:(me.push(new TypeError('Function '+ce+'() is not callable')),new H(ce+'()')):(me.push(new ReferenceError('Unknown function: '+ce+'()')),new H(ce+'()'))},x=function x(ge,_ref6){var ce=_ref6.name,me=_ref6.args,he=_(ge,ce);if(he instanceof H)return he;var _e=[],xe=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=me[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var fe=_step4.value;'kv'===fe.type?xe[fe.name]=m(ge,fe.val):_e.push(m(ge,fe))}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return he(_e,xe)},f=function f(ge,ce){var me=ge.ctx,he=ge.dirty,_e=ge.errors;if(he.has(ce))return _e.push(new RangeError('Cyclic reference')),new H;he.add(ce);var xe='',_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=ce[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var fe=_step5.value;if('string'==typeof fe)xe+=fe;else{var pe=1===fe.length?m(ge,fe[0]):d(ge,fe),be=pe.toString(me);be.length>J&&(_e.push(new RangeError('Too many characters in placeable ('+be.length+', max allowed is '+J+')')),be=be.substr(0,J)),xe+=me.useIsolating?'\u2068'+be+'\u2069':be}}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return he.delete(ce),xe},p=function p(ge,ce,me){var he=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],_e={ctx:ge,args:ce,errors:he,dirty:new WeakSet};return m(_e,me)},b=function b(ge,ce,me){var he=new Set,_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=me[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var _e=_step6.value;ce.has(_e)&&he.add(_e)}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}return he.add(ge),he},v=function v(ge){var ce=ge.split('-')[0];return 0<=['ar','he','fa','ps','ur'].indexOf(ce)?'rtl':'ltr'},y=function y(ge,ce){var _ce=_slicedToArray(ce,1),me=_ce[0];return me?me.fetch().then(function(he){var _e=ge(me.lang);return he.filter(function(xe){return null!==xe}).forEach(function(xe){return _e.addMessages(xe)}),Y.set(me,_e),_e}):Promise.resolve(null)},w=function w(ge,ce){return ge.length===ce.length&&ge.every(function(_ref7,he){var me=_ref7.lang;return me===ce[he].lang})},E=function E(ge,ce,me,he,_e){var xe=[],fe={errors:Array(he.length),withoutFatal:Array(he.length),hasFatalErrors:!1};return fe.translations=he.map(function(pe,be){if(_e&&!_e.errors[be])return _e.translations[be];xe.length=0;var ve=ce(pe[1]),ye=ge(me,xe,pe[0],ve);return 0===xe.length?ye:(fe.errors[be]=xe.slice(),xe.some(A)?!fe.hasFatalErrors&&(fe.hasFatalErrors=!0):fe.withoutFatal[be]=!0,_e&&_e.withoutFatal[be]?(fe.withoutFatal[be]=!0,_e.translations[be]):ye)}),fe},A=function A(ge){return ge instanceof D},C=function C(ge,ce){var me=ce.value;if('string'==typeof me)if(!ee.test(me))ge.textContent=me;else{var he=ge.ownerDocument.createElementNS('http://www.w3.org/1999/xhtml','template');he.innerHTML=me,L(ge,he.content)}if(null!==ce.attrs){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=ce.attrs[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _step7$value=_slicedToArray(_step7.value,3),_he=_step7$value[0],_e=_step7$value[1],xe=_step7$value[2];re[_he]===ge.namespaceURI&&S({name:_e},ge)&&ge.setAttribute(_e,xe)}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}},L=function L(ge,ce){for(var me=ce.ownerDocument.createDocumentFragment(),he=void 0,_e=void 0,xe=void 0;xe=ce.childNodes[0];){if(ce.removeChild(xe),xe.nodeType===xe.TEXT_NODE){me.appendChild(xe);continue}var fe=N(xe),pe=F(ge,xe,fe);if(pe){L(pe,xe),me.appendChild(pe);continue}if(O(xe)){var be=xe.ownerDocument.createElement(xe.nodeName);L(be,xe),me.appendChild(be);continue}me.appendChild(ce.ownerDocument.createTextNode(xe.textContent))}if(ge.textContent='',ge.appendChild(me),ce.attributes)for(he=0,_e;_e=ce.attributes[he];he++)S(_e,ge)&&ge.setAttribute(_e.name,_e.value)},O=function O(ge){var ce=te[ge.namespaceURI];return!!ce&&-1!==ce.indexOf(ge.tagName.toLowerCase())},S=function S(ge,ce){var me=ne[ce.namespaceURI];if(!me)return!1;var he=ge.name.toLowerCase(),_e=ce.tagName.toLowerCase();if(-1!==me.global.indexOf(he))return!0;if(!me[_e])return!1;if(-1!==me[_e].indexOf(he))return!0;if('http://www.w3.org/1999/xhtml'===ce.namespaceURI&&'input'===_e&&'value'===he){var xe=ce.type.toLowerCase();if('submit'===xe||'button'===xe||'reset'===xe)return!0}return!1},F=function F(ge,ce,me){var he=0;for(var xe,_e2=0;xe=ge.children[_e2];_e2++)if(xe.nodeType===xe.ELEMENT_NODE&&xe.tagName.toLowerCase()===ce.tagName.toLowerCase()){if(he===me)return xe;he++}return null},N=function N(ge){for(var _ce2=0,_me4=void 0;_me4=ge.previousElementSibling;)_me4.tagName===ge.tagName&&_ce2++;return ce},I=function I(ge){return new Promise(function(ce,me){var he=new XMLHttpRequest;he.overrideMimeType&&he.overrideMimeType('text/plain'),he.open('GET',ge,!0),he.addEventListener('load',function(_e){200===_e.target.status||0===_e.target.status?ce(_e.target.responseText):me(new Error(ge+' not found'))}),he.addEventListener('error',function(){return me(new Error(ge+' failed to load'))}),he.addEventListener('timeout',function(){return me(new Error(ge+' timed out'))}),he.send(null)})},R=function R(ge,ce){var me=ge.replace('{locale}',ce);return I(me).catch(function(){return null})},T=function T(){var ge=document.readyState;return'interactive'===ge||'completed'===ge?Promise.resolve():new Promise(function(ce){return document.addEventListener('readystatechange',ce,{once:!0})})},z=function z(ge){return new Intl.MessageContext(ge)},W=function W(ge,ce,me,he){function _e(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Set(navigator.languages),fe=b(ge,ce,xe),pe=Array.from(fe,function(be){return new de(be,me)});return Promise.resolve(pe)}if('main'===he)document.l10n=new ie(_e,z),document.l10n.ready=T().then(function(){return document.l10n.connectRoot(document.documentElement),document.l10n.translateDocument()}).then(function(){window.addEventListener('languagechange',document.l10n)});else{var xe=new oe(_e,z,he,document.l10n);document.l10n.delegates.set(he,xe)}};'undefined'!=typeof navigator&&void 0===navigator.languages&&(navigator.languages=[navigator.language]),'undefined'==typeof Intl&&(window.Intl={});var M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3},q={'0':function _(){return'other'},'1':function _(ge){return r(ge%100,3,10)?'few':0===ge?'zero':r(ge%100,11,99)?'many':2===ge?'two':1===ge?'one':'other'},'2':function _(ge){return 0!==ge&&0==ge%10?'many':2===ge?'two':1===ge?'one':'other'},'3':function _(ge){return 1===ge?'one':'other'},'4':function _(ge){return r(ge,0,1)?'one':'other'},'5':function _(ge){return r(ge,0,2)&&2!==ge?'one':'other'},'6':function _(ge){return 0===ge?'zero':1==ge%10&&11!=ge%100?'one':'other'},'7':function _(ge){return 2===ge?'two':1===ge?'one':'other'},'8':function _(ge){return r(ge,3,6)?'few':r(ge,7,10)?'many':2===ge?'two':1===ge?'one':'other'},'9':function _(ge){return 0===ge||1!==ge&&r(ge%100,1,19)?'few':1===ge?'one':'other'},'10':function _(ge){return r(ge%10,2,9)&&!r(ge%100,11,19)?'few':1!=ge%10||r(ge%100,11,19)?'other':'one'},'11':function _(ge){return r(ge%10,2,4)&&!r(ge%100,12,14)?'few':0==ge%10||r(ge%10,5,9)||r(ge%100,11,14)?'many':1==ge%10&&11!=ge%100?'one':'other'},'12':function _(ge){return r(ge,2,4)?'few':1===ge?'one':'other'},'13':function _(ge){return 0==ge%1?r(ge%10,2,4)&&!r(ge%100,12,14)?'few':1!==ge&&r(ge%10,0,1)||r(ge%10,5,9)||r(ge%100,12,14)?'many':1===ge?'one':'other':'other'},'14':function _(ge){return r(ge%100,3,4)?'few':2==ge%100?'two':1==ge%100?'one':'other'},'15':function _(ge){return 0===ge||r(ge%100,2,10)?'few':r(ge%100,11,19)?'many':1===ge?'one':'other'},'16':function _(ge){return 1==ge%10&&11!==ge?'one':'other'},'17':function _(ge){return 3===ge?'few':0===ge?'zero':6===ge?'many':2===ge?'two':1===ge?'one':'other'},'18':function _(ge){return 0===ge?'zero':r(ge,0,2)&&0!==ge&&2!==ge?'one':'other'},'19':function _(ge){return r(ge,2,10)?'few':r(ge,0,1)?'one':'other'},'20':function _(ge){return(r(ge%10,3,4)||9==ge%10)&&!(r(ge%100,10,19)||r(ge%100,70,79)||r(ge%100,90,99))?'few':0==ge%1000000&&0!==ge?'many':2!=ge%10||t(ge%100,[12,72,92])?1!=ge%10||t(ge%100,[11,71,91])?'other':'one':'two'},'21':function _(ge){return 0===ge?'zero':1===ge?'one':'other'},'22':function _(ge){return r(ge,0,1)||r(ge,11,99)?'one':'other'},'23':function _(ge){return r(ge%10,1,2)||0==ge%20?'one':'other'},'24':function _(ge){return r(ge,3,10)||r(ge,13,19)?'few':t(ge,[2,12])?'two':t(ge,[1,11])?'one':'other'}},D=function(_Error){function D(ge,ce,me){_classCallCheck(this,D);var _this=_possibleConstructorReturn(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));return _this.lang=me,_this.name='L10nError',_this.message=ge,_this.id=ce,_this.lang=me,_this}return _inherits(D,_Error),D}(Error),j=100,P=function(){function P(){_classCallCheck(this,P)}return _createClass(P,[{key:'getResource',value:function getResource(ge){this._source=ge,this._index=0,this._length=ge.length,this._lastGoodEntryEnd=0;var ce={},me=[];for(this.getWS();this._index<this._length;){try{this.getEntry(ce)}catch(he){if(he instanceof D)me.push(he),this.getJunkEntry();else throw he}this.getWS()}return[ce,me]}},{key:'getEntry',value:function getEntry(ge){if(0!==this._index&&'\n'!==this._source[this._index-1])throw this.error('Expected new line and a new entry');var ce=this._source[this._index];return'#'===ce?void this.getComment():'['===ce?void this.getSection():void('\n'!==ce&&this.getEntity(ge))}},{key:'getSection',value:function getSection(){if(this._index+=1,'['!==this._source[this._index])throw this.error('Expected "[[" to open a section');if(this._index+=1,this.getLineWS(),this.getKeyword(),this.getLineWS(),']'!==this._source[this._index]||']'!==this._source[this._index+1])throw this.error('Expected "]]" to close a section');return this._index+=2,void 0}},{key:'getEntity',value:function getEntity(ge){var ce=this.getIdentifier();this.getLineWS();var me=this._source[this._index];if('='!==me)throw this.error('Expected "=" after Entity ID');this._index++,this.getLineWS();var he=this.getPattern();if(me=this._source[this._index],'\n'===me&&(this._index++,this.getLineWS(),me=this._source[this._index]),'['===me&&'['!==this._source[this._index+1]||'*'===me){var _e=this.getMembers();ge[ce]={traits:_e[0],def:_e[1],val:he}}else if('string'==typeof he)ge[ce]=he;else if(void 0===he)throw this.error('Expected a value (like: " = value") or a trait (like: "[key] value")');else ge[ce]={val:he}}},{key:'getWS',value:function getWS(){for(var _ge=this._source.charCodeAt(this._index);32===_ge||10===_ge||9===_ge||13===_ge;)_ge=this._source.charCodeAt(++this._index)}},{key:'getLineWS',value:function getLineWS(){for(var _ge2=this._source.charCodeAt(this._index);32===_ge2||9===_ge2;)_ge2=this._source.charCodeAt(++this._index)}},{key:'getIdentifier',value:function getIdentifier(){var ge=this._index,ce=this._source.charCodeAt(this._index);if(97<=ce&&122>=ce||65<=ce&&90>=ce||95===ce)ce=this._source.charCodeAt(++this._index);else throw this.error('Expected an identifier (starting with [a-zA-Z_])');for(;97<=ce&&122>=ce||65<=ce&&90>=ce||48<=ce&&57>=ce||95===ce||45===ce;)ce=this._source.charCodeAt(++this._index);return this._source.slice(ge,this._index)}},{key:'getKeyword',value:function getKeyword(){var ge='',ce=this.getIdentifier();'/'===this._source[this._index]?this._index++:ce&&(ge=ce,ce=null);var me=this._index,he=this._source.charCodeAt(this._index);if(97<=he&&122>=he||65<=he&&90>=he||95===he||32===he)he=this._source.charCodeAt(++this._index);else if(0===ge.length)throw this.error('Expected an identifier (starting with [a-zA-Z_])');for(;97<=he&&122>=he||65<=he&&90>=he||48<=he&&57>=he||95===he||45===he||32===he;)he=this._source.charCodeAt(++this._index);for(;32===this._source.charCodeAt(this._index-1);)this._index--;return ge+=this._source.slice(me,this._index),ce?{type:'kw',ns:ce,name:ge}:{type:'kw',name:ge}}},{key:'getPattern',value:function getPattern(){var ge=this._index;if('"'===this._source[ge])return this.getComplexPattern();var ce=this._source.indexOf('\n',this._index);-1===ce&&(ce=this._length);var me=ge===ce?void 0:this._source.slice(ge,ce);return void 0!==me&&me.includes('{')?this.getComplexPattern():(this._index=ce+1,this.getLineWS(),'|'===this._source[this._index]?(this._index=ge,this.getComplexPattern()):me)}},{key:'getComplexPattern',value:function getComplexPattern(){var ge='',ce=[],me=0,he=null,_e=!0,xe=this._source[this._index];for('\\'===xe&&('"'===this._source[this._index+1]||'{'===this._source[this._index+1]||'\\'===this._source[this._index+1])?(ge+=this._source[this._index+1],this._index+=2,xe=this._source[this._index]):'"'==xe&&(he=!0,this._index++,xe=this._source[this._index]);this._index<this._length;){if('\n'===xe){if(he)throw this.error('Unclosed string');if(this._index++,this.getLineWS(),'|'!==this._source[this._index])break;if(_e&&ge.length)throw this.error('Multiline string should have the ID line empty');_e=!1,this._index++,' '===this._source[this._index]&&this._index++,ge.length&&(ge+='\n'),xe=this._source[this._index];continue}else if('\\'===xe){var fe=this._source[this._index+1];(he&&'"'===fe||'{'===fe)&&(xe=fe,this._index++)}else if(he&&'"'===xe){this._index++,he=!1;break}else if('{'===xe){if(ge.length&&ce.push(ge),me>j-1)throw this.error('Too many placeables, maximum allowed is '+j);ge='',ce.push(this.getPlaceable()),xe=this._source[this._index],me++;continue}xe&&(ge+=xe),this._index++,xe=this._source[this._index]}if(he)throw this.error('Unclosed string');return 0===ce.length?null===he?ge.length?ge:void 0:ge.length?ge:'':(ge.length&&ce.push(ge),ce)}},{key:'getPlaceable',value:function getPlaceable(){this._index++;var ge=[];for(this.getLineWS();this._index<this._length;){var ce=this._index;try{ge.push(this.getPlaceableExpression())}catch(he){throw this.error(he.description,ce)}var me=this._source[this._index];if('}'===me){this._index++;break}else if(','===me)this._index++,this.getWS();else throw this.error('Expected "}" or ","')}return ge}},{key:'getPlaceableExpression',value:function getPlaceableExpression(){var ge=this.getCallExpression(),ce=void 0;this.getWS();var me=this._source[this._index];if('}'!==me&&','!==me){if('-'!==me||'>'!==this._source[this._index+1])throw this.error('Expected "}", "," or "->"');if(this._index+=2,this.getLineWS(),'\n'!==this._source[this._index])throw this.error('Members should be listed in a new line');if(this.getWS(),ce=this.getMembers(),0===ce[0].length)throw this.error('Expected members for the select expression')}return void 0===ce?ge:{type:'sel',exp:ge,vars:ce[0],def:ce[1]}}},{key:'getCallExpression',value:function getCallExpression(){var ge=this.getMemberExpression();if('('!==this._source[this._index])return ge;this._index++;var ce=this.getCallArgs();return this._index++,'ref'===ge.type&&(ge.type='fun'),{type:'call',name:ge,args:ce}}},{key:'getCallArgs',value:function getCallArgs(){var ge=[];if(')'===this._source[this._index])return ge;for(;this._index<this._length;){this.getLineWS();var ce=this.getCallExpression();if('ref'!==ce.type||void 0!==ce.namespace)ge.push(ce);else if(this.getLineWS(),':'===this._source[this._index]){this._index++,this.getLineWS();var me=this.getCallExpression();if('string'==typeof me||Array.isArray(me)||'num'===me.type||'ext'===me.type)ge.push({type:'kv',name:ce.name,val:me});else throw this._index=this._source.lastIndexOf(':',this._index)+1,this.error('Expected string in quotes, number or external argument')}else ge.push(ce);if(this.getLineWS(),')'===this._source[this._index])break;else if(','===this._source[this._index])this._index++;else throw this.error('Expected "," or ")"')}return ge}},{key:'getNumber',value:function getNumber(){var ge='',ce=this._source.charCodeAt(this._index);if(45===ce&&(ge+='-',ce=this._source.charCodeAt(++this._index)),48>ce||57<ce)throw this.error('Unknown literal "'+ge+'"');for(;48<=ce&&57>=ce;)ge+=this._source[this._index++],ce=this._source.charCodeAt(this._index);if(46===ce){if(ge+=this._source[this._index++],ce=this._source.charCodeAt(this._index),48>ce||57<ce)throw this.error('Unknown literal "'+ge+'"');for(;48<=ce&&57>=ce;)ge+=this._source[this._index++],ce=this._source.charCodeAt(this._index)}return{type:'num',val:ge}}},{key:'getMemberExpression',value:function getMemberExpression(){for(var ge=this.getLiteral();['ref','mem'].includes(ge.type)&&'['===this._source[this._index];){var ce=this.getMemberKey();ge={type:'mem',key:ce,obj:ge}}return ge}},{key:'getMembers',value:function getMembers(){for(var ge=[],ce=0,me=void 0;this._index<this._length;){var he=this._source[this._index];if(('['!==he||'['===this._source[this._index+1])&&'*'!==he)break;if('*'===he&&(this._index++,me=ce),'['!==this._source[this._index])throw this.error('Expected "["');var _e=this.getMemberKey();this.getLineWS();var xe={key:_e,val:this.getPattern()};ge[ce++]=xe,this.getWS()}return[ge,me]}},{key:'getMemberKey',value:function getMemberKey(){this._index++;var ge=this._source.charCodeAt(this._index),ce=void 0;if(ce=48<=ge&&57>=ge||45===ge?this.getNumber():this.getKeyword(),']'!==this._source[this._index])throw this.error('Expected "]"');return this._index++,ce}},{key:'getLiteral',value:function getLiteral(){var ge=this._source.charCodeAt(this._index);return 48<=ge&&57>=ge||45===ge?this.getNumber():34===ge?this.getPattern():36===ge?(this._index++,{type:'ext',name:this.getIdentifier()}):{type:'ref',name:this.getIdentifier()}}},{key:'getComment',value:function getComment(){for(var _ge3=this._source.indexOf('\n',this._index);-1!==_ge3&&'#'===this._source[_ge3+1]&&(this._index=_ge3+2,_ge3=this._source.indexOf('\n',this._index),-1!==_ge3););this._index=-1===ge?this._length:ge+1}},{key:'error',value:function error(ge){var ce=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,me=this._index;null===ce&&(ce=me),ce=this._findEntityStart(ce);var he=this._source.slice(ce,me+10),_e='\n\n  '+ge+'\nat pos '+me+':\n------\n\u2026'+he+'\n------',xe=new D(_e),fe=this._source.slice(0,me).split('\n').length,pe=me-this._source.lastIndexOf('\n',me-1);return xe._pos={start:me,end:void 0,col:pe,row:fe},xe.offset=me-ce,xe.description=ge,xe.context=he,xe}},{key:'getJunkEntry',value:function getJunkEntry(){var ge=this._index,ce=this._findNextEntryStart(ge);-1===ce&&(ce=this._length),this._index=ce;var me=this._findEntityStart(ge);me<this._lastGoodEntryEnd&&(me=this._lastGoodEntryEnd)}},{key:'_findEntityStart',value:function _findEntityStart(ge){for(var ce=ge;!0;){if(ce=this._source.lastIndexOf('\n',ce-2),-1===ce||0===ce){ce=0;break}var me=this._source.charCodeAt(ce+1);if(97<=me&&122>=me||65<=me&&90>=me||95===me){ce++;break}}return ce}},{key:'_findNextEntryStart',value:function _findNextEntryStart(ge){for(var ce=ge;!0;){if(0===ce||'\n'===this._source[ce-1]){var me=this._source.charCodeAt(ce);if(97<=me&&122>=me||65<=me&&90>=me||95===me||35===me||91===me)break}if(ce=this._source.indexOf('\n',ce),-1===ce)break;ce++}return ce}}]),P}(),K={parseResource:function parseResource(ge){var ce=new P;return ce.getResource(ge)}},U=function(){function U(ge,ce){_classCallCheck(this,U),this.value=ge,this.opts=ce}return _createClass(U,[{key:'valueOf',value:function valueOf(){return this.value}},{key:'toString',value:function toString(ge){return this.value.toString(ge)}}]),U}(),H=function(_U){function H(){return _classCallCheck(this,H),_possibleConstructorReturn(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return _inherits(H,_U),_createClass(H,[{key:'toString',value:function toString(){return this.value||'???'}}]),H}(U),V=function(_U2){function V(ge,ce){return _classCallCheck(this,V),_possibleConstructorReturn(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,parseFloat(ge),ce))}return _inherits(V,_U2),_createClass(V,[{key:'toString',value:function toString(ge){var ce=ge._memoizeIntlObject(Intl.NumberFormat,this.opts);return ce.format(this.value)}}]),V}(U),G=function(_U3){function G(ge,ce){return _classCallCheck(this,G),_possibleConstructorReturn(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,new Date(ge),ce))}return _inherits(G,_U3),_createClass(G,[{key:'toString',value:function toString(ge){var ce=ge._memoizeIntlObject(Intl.DateTimeFormat,this.opts);return ce.format(this.value)}}]),G}(U),B=function(_U4){function B(){return _classCallCheck(this,B),_possibleConstructorReturn(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return _inherits(B,_U4),_createClass(B,[{key:'toString',value:function toString(){var _value=this.value,ge=_value.name,ce=_value.namespace;return ce?ce+':'+ge:ge}},{key:'match',value:function match(ge,ce){var _value2=this.value,me=_value2.name,he=_value2.namespace;if(ce instanceof B)return me===ce.value.name&&he===ce.value.namespace;if(he)return!1;if('string'==typeof ce)return me===ce;if(ce instanceof V){var _e=ge._memoizeIntlObject(Intl.PluralRules,ce.opts);return me===_e.select(ce.valueOf())}return!1}}]),B}(U),Z=function(_Array){function Z(){return _classCallCheck(this,Z),_possibleConstructorReturn(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}return _inherits(Z,_Array),_createClass(Z,[{key:'toString',value:function toString(ge){var ce=ge._memoizeIntlObject(Intl.ListFormat),me=this.map(function(he){return he.toString(ge)});return ce.format(me)}}]),Z}(Array),X={NUMBER:function NUMBER(_ref8,ce){var _ref9=_slicedToArray(_ref8,1),ge=_ref9[0];return new V(ge.valueOf(),s(ge.opts,ce))},DATETIME:function DATETIME(_ref10,ce){var _ref11=_slicedToArray(_ref10,1),ge=_ref11[0];return new G(ge.valueOf(),s(ge.opts,ce))},LIST:function LIST(ge){return Z.from(ge)},LEN:function LEN(_ref12){var _ref13=_slicedToArray(_ref12,1),ge=_ref13[0];return new V(ge.valueOf().length)},TAKE:function TAKE(_ref14){var _ref15=_slicedToArray(_ref14,2),ge=_ref15[0],ce=_ref15[1];return Z.from(ce.valueOf().slice(0,ge.value))},DROP:function DROP(_ref16){var _ref17=_slicedToArray(_ref16,2),ge=_ref17[0],ce=_ref17[1];return Z.from(ce.valueOf().slice(ge.value))}},J=2500;Intl.MessageContext=function(){function _class(ce){var _ref18=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},_ref18$functions=_ref18.functions,me=void 0===_ref18$functions?{}:_ref18$functions,_ref18$useIsolating=_ref18.useIsolating,he=void 0===_ref18$useIsolating||_ref18$useIsolating;_classCallCheck(this,_class),this.lang=ce,this.functions=me,this.useIsolating=he,this.messages=new Map,this.intls=new WeakMap}return _createClass(_class,[{key:'addMessages',value:function addMessages(ce){var _K$parseResource=K.parseResource(ce),_K$parseResource2=_slicedToArray(_K$parseResource,2),me=_K$parseResource2[0],he=_K$parseResource2[1];for(var _e3 in me)this.messages.set(_e3,me[_e3]);return he}},{key:'format',value:function format(ce,me,he){if('string'==typeof ce)return ce;if('string'==typeof ce.val)return ce.val;if(void 0===ce.val&&void 0===ce.def)return null;var _e=p(this,me,ce,he);return _e instanceof H?null:_e}},{key:'_memoizeIntlObject',value:function _memoizeIntlObject(ce,me){var he=this.intls.get(ce)||{},_e=JSON.stringify(me);return he[_e]||(he[_e]=new ce(this.lang,me),this.intls.set(ce,he)),he[_e]}}]),_class}(),Intl.MessageNumberArgument=V,Intl.MessageDateTimeArgument=G,Intl.NumberFormat||(Intl.NumberFormat=function(){return{format:function format(ge){return ge}}}),Intl.PluralRules||(Intl.PluralRules=function(ge){var ce=a(ge);return{select:function select(me){return ce(me)}}}),Intl.ListFormat||(Intl.ListFormat=function(){return{format:function format(ge){return ge.join(', ')}}});var Q=new WeakMap,Y=new WeakMap,$=function(){function $(ge,ce){_classCallCheck(this,$);var me=function me(he){return y(ce,he)};Q.set(this,{requestBundles:ge,createHeadContext:me}),this.interactive=ge().then(function(he){return me(he).then(function(){return he})})}return _createClass($,[{key:'requestLanguages',value:function requestLanguages(ge){var _Q$get=Q.get(this),ce=_Q$get.requestBundles,me=_Q$get.createHeadContext;return this.interactive=Promise.all([this.interactive,ce(ge)]).then(function(_ref19){var _ref20=_slicedToArray(_ref19,2),he=_ref20[0],_e=_ref20[1];return w(he,_e)?he:me(_e).then(function(){return _e})})}},{key:'formatWithFallback',value:function formatWithFallback(ge,ce,me,he,_e){var _this7=this;if(!ce)return _e.translations;var xe=E(he,this.sanitizeArgs,ce,me,_e);if('undefined'!=typeof console&&xe.errors.forEach(function(be){return be?be.forEach(function(ve){return console.warn(ve)}):null}),!xe.hasFatalErrors)return xe.translations;var fe=ge.slice(1),_Q$get2=Q.get(this),pe=_Q$get2.createHeadContext;return pe(fe).then(function(be){return _this7.formatWithFallback(fe,be,me,he,xe)})}},{key:'formatEntities',value:function formatEntities(ge){var _this8=this;return this.interactive.then(function(ce){return _this8.formatWithFallback(ce,Y.get(ce[0]),ge,_this8.entityFromContext)})}},{key:'formatValues',value:function formatValues(){var _this9=this;for(var _len=arguments.length,ge=Array(_len),_key=0;_key<_len;_key++)ge[_key]=arguments[_key];var ce=ge.map(function(me){return Array.isArray(me)?me:[me,null]});return this.interactive.then(function(me){return _this9.formatWithFallback(me,Y.get(me[0]),ce,_this9.valueFromContext)})}},{key:'formatValue',value:function formatValue(ge,ce){return this.formatValues([ge,ce]).then(function(_ref21){var _ref22=_slicedToArray(_ref21,1),me=_ref22[0];return me})}},{key:'sanitizeArgs',value:function sanitizeArgs(ge){return ge}},{key:'entityFromContext',value:function entityFromContext(ge,ce,me,he){var _e=ge.messages.get(me);if(void 0===_e)return ce.push(new D('Unknown entity: '+me)),{value:me,attrs:null};var xe={value:ge.format(_e,he,ce),attrs:null};if(_e.traits){xe.attrs=[];for(var pe,fe=0;pe=_e.traits[fe];fe++)if(pe.key.hasOwnProperty('ns')){var _be=ge.format(pe,he,ce);null!==_be&&xe.attrs.push([pe.key.ns,pe.key.name,_be])}}return xe}},{key:'valueFromContext',value:function valueFromContext(ge,ce,me,he){var _e=ge.messages.get(me);return void 0===_e?(ce.push(new D('Unknown entity: '+me)),me):ge.format(_e,he,ce)}}]),$}(),ee=/<|&#?\w+;/,te={'http://www.w3.org/1999/xhtml':['a','em','strong','small','s','cite','q','dfn','abbr','data','time','code','var','samp','kbd','sub','sup','i','b','u','mark','ruby','rt','rp','bdi','bdo','span','br','wbr']},ne={'http://www.w3.org/1999/xhtml':{global:['title','aria-label','aria-valuetext','aria-moz-hint'],a:['download'],area:['download','alt'],input:['alt','placeholder'],menuitem:['label'],menu:['label'],optgroup:['label'],option:['label'],track:['label'],img:['alt'],textarea:['placeholder'],th:['abbr']},'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul':{global:['accesskey','aria-label','aria-valuetext','aria-moz-hint','label'],key:['key','keycode'],textbox:['placeholder'],toolbarbutton:['tooltiptext']}},re={html:'http://www.w3.org/1999/xhtml',xul:'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul'},ae=/[&<>]/g,se={'&':'&amp;','<':'&lt;','>':'&gt;'},oe=function(_$){function oe(ge,ce,me,he){_classCallCheck(this,oe);var _this10=_possibleConstructorReturn(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,ge,ce));return _this10.observer=he,_this10.name=me,_this10.query='[data-l10n-with='+me+']',_this10.roots=new Set,_this10.observer=he,_this10}return _inherits(oe,_$),_createClass(oe,[{key:'handleEvent',value:function handleEvent(){return this.requestLanguages()}},{key:'requestLanguages',value:function requestLanguages(ge){var _this11=this;_get(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),'requestLanguages',this).call(this,ge).then(function(){return _this11.translateRoots()})}},{key:'setAttributes',value:function setAttributes(ge,ce,me){return ge.setAttribute('data-l10n-id',ce),me&&ge.setAttribute('data-l10n-args',JSON.stringify(me)),ge}},{key:'getAttributes',value:function getAttributes(ge){return{id:ge.getAttribute('data-l10n-id'),args:JSON.parse(ge.getAttribute('data-l10n-args'))}}},{key:'connectRoot',value:function connectRoot(ge){this.roots.add(ge),this.observer&&this.observer.observeRoot(ge)}},{key:'disconnectRoot',value:function disconnectRoot(ge){return this.roots.delete(ge),this.observer&&this.observer.unobserveRoot(ge),0===this.roots.size}},{key:'translateRoots',value:function translateRoots(){var _this12=this,ge=Array.from(this.roots);return Promise.all(ge.map(function(ce){return _this12.translateRoot(ce)}))}},{key:'translateRoot',value:function translateRoot(ge){var _this13=this;return this.translateRootContent(ge).then(function(){return _this13.interactive}).then(function(ce){var me=ce.map(function(_e){return _e.lang}),he=ge.hasAttribute('langs');ge.setAttribute('langs',me.join(' ')),ge.setAttribute('lang',me[0]),ge.setAttribute('dir',v(me[0])),he&&ge.dispatchEvent(new CustomEvent('DOMRetranslated',{bubbles:!1,cancelable:!1}))})}},{key:'translateRootContent',value:function translateRootContent(ge){var _this14=this,ce=document.getAnonymousNodes?document.getAnonymousNodes(ge):null;return ce?Promise.all([ge].concat(_toConsumableArray(ce)).map(function(me){return _this14.translateFragment(me)})):this.translateFragment(ge)}},{key:'translateFragment',value:function translateFragment(ge){return this.translateElements(this.getTranslatables(ge))}},{key:'translateElements',value:function translateElements(ge){var _this15=this;if(!ge.length)return Promise.resolve([]);var ce=ge.map(this.getKeysForElement);return this.formatEntities(ce).then(function(me){return _this15.applyTranslations(ge,me)})}},{key:'translateElement',value:function translateElement(ge){var _this16=this;return this.formatEntities([this.getKeysForElement(ge)]).then(function(ce){return _this16.applyTranslations([ge],ce)})}},{key:'applyTranslations',value:function applyTranslations(ge,ce){this.observer&&this.observer.pauseObserving();for(var _me5=0;_me5<ge.length;_me5++)C(ge[_me5],ce[_me5]);this.observer&&this.observer.resumeObserving()}},{key:'getTranslatables',value:function getTranslatables(ge){var ce=Array.from(ge.querySelectorAll(this.query));if('function'==typeof ge.hasAttribute&&ge.hasAttribute('data-l10n-id')){var me=ge.getAttribute('data-l10n-with');me===this.name&&ce.push(ge)}return ce}},{key:'getKeysForElement',value:function getKeysForElement(ge){return[ge.getAttribute('data-l10n-id'),JSON.parse(ge.getAttribute('data-l10n-args'))]}},{key:'sanitizeArgs',value:function sanitizeArgs(ge){for(var ce in ge){var me=ge[ce];'string'==typeof me&&(ge[ce]=me.replace(ae,function(he){return se[he]}))}return ge}}]),oe}($),ie=function(_oe){function ie(ge,ce){_classCallCheck(this,ie);var _this17=_possibleConstructorReturn(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,ge,ce,'main'));return _this17.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:['data-l10n-id','data-l10n-args','data-l10n-with']},_this17.query='[data-l10n-with="main"], [data-l10n-id]:not([data-l10n-with])',_this17.delegates=new Map,_this17.observer=_this17,_this17.observedRoots=new Set,_this17.mutationObserver=new MutationObserver(function(me){return _this17.translateMutations(me)}),_this17.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:['data-l10n-id','data-l10n-args','data-l10n-with']},_this17}return _inherits(ie,_oe),_createClass(ie,[{key:'requestLanguages',value:function requestLanguages(ge){var _this18=this,ce=[_get(ie.prototype.__proto__||Object.getPrototypeOf(ie.prototype),'requestLanguages',this).call(this,ge)].concat(Array.from(this.delegates.values(),function(me){return me.requestLanguages(ge)}));return Promise.all(ce).then(function(){return _this18.translateDocument()})}},{key:'observeRoot',value:function observeRoot(ge){this.observedRoots.add(ge),this.mutationObserver.observe(ge,this.observerConfig)}},{key:'unobserveRoot',value:function unobserveRoot(ge){this.observedRoots.delete(ge),this.pauseObserving(),this.resumeObserving()}},{key:'pauseObserving',value:function pauseObserving(){this.mutationObserver.disconnect()}},{key:'resumeObserving',value:function resumeObserving(){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _step8,_iterator8=this.observedRoots[Symbol.iterator]();!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var ge=_step8.value;this.mutationObserver.observe(ge,this.observerConfig)}}catch(err){_didIteratorError8=!0,_iteratorError8=err}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}},{key:'translateMutations',value:function translateMutations(ge){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _step9,_iterator9=ge[Symbol.iterator]();!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var ce=_step9.value;switch(ce.type){case'attributes':this.translateElement(ce.target);break;case'childList':var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var _step10,_iterator10=ce.addedNodes[Symbol.iterator]();!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=!0){var me=_step10.value;me.nodeType===me.ELEMENT_NODE&&(me.childElementCount?this.translateFragment(me):me.hasAttribute('data-l10n-id')&&this.translateElement(me))}}catch(err){_didIteratorError10=!0,_iteratorError10=err}finally{try{!_iteratorNormalCompletion10&&_iterator10.return&&_iterator10.return()}finally{if(_didIteratorError10)throw _iteratorError10}}}}}catch(err){_didIteratorError9=!0,_iteratorError9=err}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}},{key:'translateDocument',value:function translateDocument(){var ge=[this].concat(_toConsumableArray(this.delegates.values()));return Promise.all(ge.map(function(ce){return ce.translateRoots()}))}},{key:'translateFragment',value:function translateFragment(ge){var ce=[_get(ie.prototype.__proto__||Object.getPrototypeOf(ie.prototype),'translateFragment',this).call(this,ge)].concat(Array.from(this.delegates.values(),function(me){return me.translateFragment(ge)}));return Promise.all(ce)}},{key:'translateElement',value:function translateElement(ge){var ce=ge.getAttribute('data-l10n-with'),me=void 0;if(!ce||'main'===ce)me=this;else if(this.delegates.has(ce))me=this.delegates.get(ce);else{var he=new D('Unknown Localization: '+ce+'.');return Promise.reject(he)}return me.formatEntities([me.getKeysForElement(ge)]).then(function(he){return me.applyTranslations([ge],he)})}},{key:'getTranslatables',value:function getTranslatables(ge){var ce=Array.from(ge.querySelectorAll(this.query));if('function'==typeof ge.hasAttribute&&ge.hasAttribute('data-l10n-id')){var me=ge.getAttribute('data-l10n-with');me&&me!==this.name||ce.push(ge)}return ce}}]),ie}(oe),de=function(){function de(ge,ce){_classCallCheck(this,de),this.lang=ge,this.loaded=!1,this.resIds=ce}return _createClass(de,[{key:'fetch',value:function fetch(){var _this19=this;return this.loaded||(this.loaded=Promise.all(this.resIds.map(function(ge){return R(ge,_this19.lang)}))),this.loaded}}]),de}(),_ref23=function(ce){var me=new Set,he=null,_e=null,xe=Array.from(ce.querySelectorAll('meta[name="availableLanguages"],meta[name="defaultLanguage"],meta[name="appVersion"]')),_iteratorNormalCompletion11=!0,_didIteratorError11=!1,_iteratorError11=void 0;try{for(var _step11,_iterator11=xe[Symbol.iterator]();!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=!0){var fe=_step11.value,pe=fe.getAttribute('name'),be=fe.getAttribute('content').trim();'availableLanguages'===pe?me=new Set(be.split(',').map(function(ve){return ve.trim()})):'defaultLanguage'===pe?he=be:'appVersion'===pe?_e=be:void 0}}catch(err){_didIteratorError11=!0,_iteratorError11=err}finally{try{!_iteratorNormalCompletion11&&_iterator11.return&&_iterator11.return()}finally{if(_didIteratorError11)throw _iteratorError11}}return{defaultLang:he,availableLangs:me,appVersion:_e}}(document.head),le=_ref23.defaultLang,ue=_ref23.availableLangs;(function(ce){return Array.prototype.map.call(ce.querySelectorAll('link[rel="localization"]'),function(me){return[me.getAttribute('href'),me.getAttribute('name')||'main']}).reduce(function(me,_ref24){var _ref25=_slicedToArray(_ref24,2),he=_ref25[0],_e=_ref25[1];return me.set(_e,(me.get(_e)||[]).concat(he))},new Map)})(document.head).forEach(function(ge,ce){return W(le,ue,ge,ce)})})();
//# sourceMappingURL=l20n.js.map